% !TEX root = ../noninv.tex

\section{State sum data}\label{s:state_sum}

Here we outline a definition of state sum invariants in terms of higher categories.
We restrict ourselves to oriented manifolds.
Generalizing our techniques to other tangential structures should be extremely interesting.
The target for our construction is supposed to be something like a fully dualizable symmetric monoidal pivotal $n$-category $\cC$.
There is no a precise definition of this for $n$ larger than 3. The requirement on $\cC$ is that we can coherently evaluate various locally composable diagrams appearing further below.
Usually we assume that the top layer, i.e.
the $n$-fold loop category $\Omega^n \cC = \C $ is given by the complex numbers.

\subsection{Street cones}

An \textit{oriented Street $n$-cone} is a cone under the diagram
\[
\widetilde\cO \colon \widetilde\simplex_n \to \nCat.
\]
By the universal property of colimits, an oriented Street $n$-cone with vertex $\cC$ induces an $n$-functor $\widetilde\cO(X) \to \cC$ for any triangulated $n$-manifold $M \cong \bars{X}$.

\subsection{Pachner moves}

A Pachner move is a local operation on a triangulated manifold that transforms one triangulation into another while preserving the homeomorphism type of the manifold.
For a triangulated $n$-manifold $M \cong \bars{X}$ consider a subcomplex $K \subset X$ that is isomorphic to the smallest subcomplex of $\simplex^{n+1}$ containing some set of $n$-simplices.
Denote by $K^{\text{c}}$ the smallest subcomplex of $\simplex^{n+1}$ containing all other $n$-simplices, and notice that $K$ and $K^{\text{c}}$ share in $\simplex^{n+1}$ a subcomplex whose geometric realization is homeomorphic to the $(n-1)$-sphere.
The \textit{oriented Pachner move} associated to $K$ replaces $\bars{K}$ in $M$ by $\bars{K^{\text{c}}}$ along their shared sphere boundary.
An elaboration of Pachnerâ€™s theorem \cite{bibid}, presented for example as Proposition 3.3 in \cite{}, states that for any two triangulations of a smooth manifold there is a finite sequence of oriented Pachner moves which takes both to a common refinement, up to an arbitrarily small $\delta$-approximation.

\subsection{Triangulation invariance}

ANIBAL

\subsection{Higher codimensions}

\input{sec/codimensions}

\newpage

We begin with some recollections from higher category theory.

\subsection{State sum data}

We now modify the above construction slightly to study oriented manifolds.
Let $\cO_n^\op$ denote the $n$-category obtained from $\cO_n$ by reversing the direction of the top morphism.
Let $M$ an oriented $n$-manifold with a triangulation equipped with a branching structure.
That is to say, a homeomorphism $M \cong \bars{X}$ where $X$ is a simplicial complex for which each simplex is equipped with a compatible order of its vertices.
We define $\cO_X(M)$ as $\cO(X)$ with the difference that we replace $\cO_n$ by $\cO_n^\op$ for each top simplex whose intrinsic orientation -- defined by the branching structure -- disagrees with the one induced from $M$.

Hence to define a functor out of $\oriental(X)$ natural in $X$ it is enough to define functors out of the categories associated to oriented standard simplicies $\Delta_0, \dots, \Delta_n^\pm$ compatible with all inclusions between them.
We think of such functors as being local.

For reasons which become clear in a moment we require these to also extend to oriented $n+1$ simplicies $\Delta_{n+1}$.
Denote by $O^n$ the diagram in higher categories formed by $O(-)$ applied to all oriented simplicies up to dimension $n+1$ and embeddings between them.

\begin{definition}
\label{def:statesum}
	\emph{State sum data in $\cC$} is a cone under the diagram $O$ in higher categories with apex $\cC$.
\end{definition}

The universal property of the colimit implies that this data induces a functor $F \colon \oriental(X) \longrightarrow C$ for every triangulation $X$ of a manifold $M$.
We call the collection of all $n$-morphisms associated to top dimensional simplicies the fundamental class $\sigma_X$ of $\oriental(X)$.
Note that these morphisms are not necessarily composable in $\oriental(X)$.
They are however locally composable.
The fact that $\cC$ is fully dualizable
allows us to compose the image $F(\sigma_X)$ inside $\cC$.
This defines an endomorphism
$F(\sigma_X)\in \Omega^n\cC=\C $ and hence a complex number.

\begin{definition}
    \label{def:statesuminvariant}
If $|X| = M$ is a triangulated $n$-manifold and $F$ is state sum data in the fully dualizable category $\cC$, the \emph{state sum invariant} is the number $F(\sigma_X) \in \C$.
\end{definition}

We can define the state sum invariant of a manifold $M$ as $Z(M)=F(\sigma_X)$ for any triangulation $X$ of $M$.
For this to be well defined, we need to show that the answer is independent of the chosen triangulation.

\begin{theorem}
	For two different branched triangulations $X$ and $X'$ of a compact $n$-dimensional manifold $M$, we have $F(\sigma_X)=F(\sigma_{X'})$.
\end{theorem}

\begin{proof}
	The proof is completely formal.
	Pick a branched triangulation $Y$ of $M\times I$ which is compatible with the triangulations on the boundary.
	The condition that the state sum data extends to $n+1$-simplicies allows us to construct a functor out of $\oriental(Y)\longrightarrow C $.
	The fundamental class of $Y$ defines for us an $n+1$-morphism $F(\sigma_X)\longrightarrow F(\sigma_{X'})$.
	Because by assumption all $n+1$ morphisms in $\cC$ are equalities the invariants agree.
\end{proof}

\begin{remark}
	\LM{Orbifold data should give examples of state sum data}
\end{remark}

\subsection{Value on lower codimensions}

For the following construction to work we need to assume that the $n$-category $\cC$ has enough limits.

If we consider an oriented $d$-dimensional manifold $\Sigma$ with $d\leq n$ together with a  branched triangulation $X$ we again get from the state sum data a functor $F\colon \oriental(X)\longrightarrow \cC$.
Evaluating the fundamental class gives us a $d$-morphism in
$\cC$.
However, the argument which we used to show triangulation invariance above now only gives us a $d+1$-morphism from $F(\sigma_X) \longrightarrow F(\sigma_X')$.

This morphism is again not independent of the triangulation chosen on $I\times \Sigma $, but can be related to other choices by considering functors out of $O(\Delta_2 \times \Sigma)$ and so on up to triangulations of $\Delta^{n-d}\times \Sigma $ which give rise to $n$-morphisms in $\cC$.
We define the value of the state sum field theory on $\Sigma$ to be the colimit over the corresponding diagram in $\cC$.
The answer is by definition triangulation invariant.


In the 2-dimensional example discussed in the previous section this recovers the known description of the vector space of the state sum field theory.


\subsection{The localization of $\mathcal{O}(X)$}
\label{sec:groupoidify}
\LS{Feel free to change content or location. Everything here super imprecise}

Sometimes in practice, we want to consider functors out of $\mathcal{O}(X)$ that land in a (higher) groupoid.
For example, we will see in Section \ref{sec:pathintegral} that a Dijkgraaf-Witten field is a functor $\mathcal{O}(X) \to BG$.
The inclusion functor $\infty-\Gpd \hookrightarrow \wCat$ has a left adjoint `groupoidification' $\mathcal{C} \mapsto \mathcal{C}^{gp}$ given by forcefully inverting morphisms at all levels.
In the models we chose in this article, it is given by geometrically realizing the nerve of the $\omega$-category.
We see that there is a canonical bijection between functors $\mathcal{O}(X) \to BG$ and functors $\mathcal{O}(X)^{gp} \to BG$ between higher groupoids.
By the homotopy hypothesis, the latter takes place in maps of homotopy types, which are amenable to computations in algebraic topology.
We moreover claim that $\mathcal{O}(X)^{gp}$ is a very specific homotopy type:

\begin{lemma}
    The spaces $\mathcal{O}(X)^{gp}$ and $X$ are homotopy equivalent.
\end{lemma}

